<!doctype html>
<html lang="hu" data-lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AdherenciaCheck</title>
  <meta name="description" content="Gy√≥gyszeres adherencia felm√©r√©se modern, letisztult fel√ºleten.">
  <link rel="icon" href="assets/favicon.png" />
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Beleegyez√©s (egyszeri) -->
  <div id="consentOverlay" class="overlay" aria-modal="true" role="dialog" aria-labelledby="consentTitle">
    <div class="overlay__card card-ani">
      <h1 id="consentTitle" data-i18n="consent.title">Beleegyez√©s</h1>
      <p data-i18n="consent.text">Az oldal az √ñn gy√≥gyszeres adherenci√°j√°t m√©ri <strong>t√°j√©koztat√≥ jelleggel</strong>. A kit√∂lt√©s √∂nk√©ntes, √©s nem helyettes√≠ti az orvosi vizsg√°latot. Panasz eset√©n forduljon kezel≈ëorvos√°hoz.</p>
      <label class="consent-check">
        <input type="checkbox" id="consentCheck"> <span data-i18n="consent.accept">Elolvastam √©s elfogadom a felt√©teleket.</span>
      </label>
      <button id="consentBtn" class="btn" disabled data-i18n="consent.btn">Elfogadom</button>
    </div>
  </div>

  <header class="site-header">
    <div class="brand">
      <span class="brand__logo">AC</span>
      <span class="brand__name">Adherencia<span>Check</span></span>
    </div>
    <div class="header-actions">
      <button id="langToggle" class="theme-toggle" aria-label="Nyelv v√°lt√°sa">HU/EN</button>
      <button id="themeToggle" aria-label="T√©ma v√°lt√°sa" class="theme-toggle">üåì</button>
    </div>
  </header>

  <main class="container">
    <section class="intro card fade-in">
      <h1 data-i18n="intro.title">Gy√≥gyszeres adherencia felm√©r√©se</h1>
      <p class="muted" data-i18n="intro.desc">K√©rem, adja meg TAJ-sz√°m√°t, majd t√∂ltse ki a k√©rd≈ë√≠vet. Az eredm√©nyek csak a befejez√©skor ker√ºlnek ment√©sre az eszk√∂z√©n, √©s k√©s≈ëbb Excelben export√°lhat√≥k.</p>
    </section>

    <section id="formSection" class="card fade-in-up">
      <h2 data-i18n="form.title">K√©rd≈ë√≠v</h2>
      <form id="surveyForm" novalidate>
        <!-- TAJ (9 sz√°mjegy) -->
        <div class="q">
          <label for="taj" data-i18n="form.taj.label">K√©rem, adja meg a TAJ sz√°m√°t (9 sz√°mjegy):</label>
          <div class="with-icon">
            <span class="icon">ü™™</span>
            <input id="taj" name="taj" inputmode="numeric" pattern="\d{9}" maxlength="9" placeholder="_________" required class="id-input" />
          </div>
          <p class="muted" data-i18n="form.taj.note">Ne adjon meg m√°s szem√©lyes adatot (n√©v, e‚Äëmail).</p>
        </div>

        <!-- 8 k√©rd√©s (0‚Äì3 pont; magasabb = jobb adherencia) -->
        <div class="q reveal">
          <label data-i18n="q1.l">1) Az elm√∫lt 2 h√©tben h√°nyszor felejtette el bevenni a gy√≥gyszer√©t?</label>
          <div class="opts">
            <label><input type="radio" name="q1" value="3" required> <span data-i18n="opt.never">Soha</span></label>
            <label><input type="radio" name="q1" value="2"> <span data-i18n="opt.sometimes12">1‚Äì2 alkalom</span></label>
            <label><input type="radio" name="q1" value="1"> <span data-i18n="opt.sometimes34">3‚Äì4 alkalom</span></label>
            <label><input type="radio" name="q1" value="0"> <span data-i18n="opt.often5">‚â•5 alkalom</span></label>
          </div>
          <div class="followup hidden" data-follow="q1">
            <label data-i18n="follow.q1">Mi okozza legink√°bb az elfelejt√©st?</label>
            <select id="f1">
              <option value="" data-i18n="opt.choose">V√°lasszon‚Ä¶</option>
              <option value="napirend" data-i18n="opt.routine">V√°ltoz√≥ napirend</option>
              <option value="emlekezteto" data-i18n="opt.reminder">Nincs eml√©keztet≈ë</option>
              <option value="egyeb" data-i18n="opt.other">Egy√©b</option>
            </select>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q2.l">2) Milyen gyakran cs√∫szik a bev√©tel ‚â•2 √≥r√°t a szok√°sos id≈ëponthoz k√©pest?</label>
          <div class="opts">
            <label><input type="radio" name="q2" value="3" required> <span data-i18n="opt.rare">Soha/ritk√°n</span></label>
            <label><input type="radio" name="q2" value="2"> <span data-i18n="opt.monthly">Havonta n√©h√°nyszor</span></label>
            <label><input type="radio" name="q2" value="1"> <span data-i18n="opt.weekly">Hetente</span></label>
            <label><input type="radio" name="q2" value="0"> <span data-i18n="opt.twiceweek">T√∂bbsz√∂r hetente</span></label>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q3.l">3) El≈ëfordul, hogy sz√°nd√©kosan kihagyja mell√©khat√°s vagy k√©tely miatt?</label>
          <div class="opts">
            <label><input type="radio" name="q3" value="3" required> <span data-i18n="opt.no">Nem</span></label>
            <label><input type="radio" name="q3" value="2"> <span data-i18n="opt.rare">Ritk√°n</span></label>
            <label><input type="radio" name="q3" value="1"> <span data-i18n="opt.sometimes">N√©ha</span></label>
            <label><input type="radio" name="q3" value="0"> <span data-i18n="opt.often">Gyakran</span></label>
          </div>
          <div class="followup hidden" data-follow="q3">
            <label data-i18n="follow.q3">Mi√©rt hagyja ki leggyakrabban?</label>
            <select id="f3">
              <option value="" data-i18n="opt.choose">V√°lasszon‚Ä¶</option>
              <option value="mellekhatas" data-i18n="opt.side">Mell√©khat√°s</option>
              <option value="ketely" data-i18n="opt.doubt">K√©tely a hat√°sban</option>
              <option value="koltseg" data-i18n="opt.cost">K√∂lts√©g</option>
              <option value="egyeb" data-i18n="opt.other">Egy√©b</option>
            </select>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q4.l">4) Mennyire vil√°gos az adagol√°s, id≈ëpont √©s teend≈ëk kihagy√°s eset√©n?</label>
          <div class="opts">
            <label><input type="radio" name="q4" value="3" required> <span data-i18n="opt.clear">Teljesen vil√°gos</span></label>
            <label><input type="radio" name="q4" value="2"> <span data-i18n="opt.mostly">T√∂bbnyire vil√°gos</span></label>
            <label><input type="radio" name="q4" value="1"> <span data-i18n="opt.partial">R√©szben zavaros</span></label>
            <label><input type="radio" name="q4" value="0"> <span data-i18n="opt.unclear">Nem vil√°gos</span></label>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q5.l">5) Van seg√≠ts√©ge eml√©keztet≈ëkkel (app, doboz, hozz√°tartoz√≥)?</label>
          <div class="opts">
            <label><input type="radio" name="q5" value="3" required> <span data-i18n="opt.regular">Igen, rendszeresen</span></label>
            <label><input type="radio" name="q5" value="2"> <span data-i18n="opt.sometimes">Igen, n√©ha</span></label>
            <label><input type="radio" name="q5" value="1"> <span data-i18n="opt.rare">Ritk√°n</span></label>
            <label><input type="radio" name="q5" value="0"> <span data-i18n="opt.none">Nincs</span></label>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q6.l">6) Meg tudja v√°s√°rolni a gy√≥gyszereket anyagilag?</label>
          <div class="opts">
            <label><input type="radio" name="q6" value="3" required> <span data-i18n="opt.yes">Igen</span></label>
            <label><input type="radio" name="q6" value="2"> <span data-i18n="opt.hardSometimes">N√©ha neh√©z</span></label>
            <label><input type="radio" name="q6" value="1"> <span data-i18n="opt.hardOften">Gyakran neh√©z</span></label>
            <label><input type="radio" name="q6" value="0"> <span data-i18n="opt.no">Nem</span></label>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q7.l">7) Zavar√≥ mell√©khat√°sai vannak jelenleg?</label>
          <div class="opts">
            <label><input type="radio" name="q7" value="3" required> <span data-i18n="opt.none">Nincsenek</span></label>
            <label><input type="radio" name="q7" value="2"> <span data-i18n="opt.mild">Enyhe</span></label>
            <label><input type="radio" name="q7" value="1"> <span data-i18n="opt.moderate">K√∂zepes</span></label>
            <label><input type="radio" name="q7" value="0"> <span data-i18n="opt.severe">S√∫lyos</span></label>
          </div>
        </div>

        <div class="q reveal">
          <label data-i18n="q8.l">8) Mennyire tartja fontosnak a gy√≥gyszerek rendszeres szed√©s√©t?</label>
          <div class="opts">
            <label><input type="radio" name="q8" value="3" required> <span data-i18n="opt.very">Nagyon fontos</span></label>
            <label><input type="radio" name="q8" value="2"> <span data-i18n="opt.important">Fontos</span></label>
            <label><input type="radio" name="q8" value="1"> <span data-i18n="opt.less">Kev√©sb√© fontos</span></label>
            <label><input type="radio" name="q8" value="0"> <span data-i18n="opt.not">Nem fontos</span></label>
          </div>
        </div>

        <!-- Cs√∫szka (0‚Äì14) -->
        <div class="q reveal">
          <label for="missed" data-i18n="q9.l">Az elm√∫lt 2 h√©tben h√°nyszor fordult el≈ë, hogy nem vette be a gy√≥gyszer√©t?</label>
          <div class="range-wrap">
            <input type="range" id="missed" name="missed" min="0" max="14" value="0" />
            <output id="missedVal">0</output>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn" data-i18n="form.submit">Eredm√©ny kisz√°m√≠t√°sa</button>
          <button type="button" id="resetBtn" class="btn btn--ghost" data-i18n="form.reset">≈∞rlap t√∂rl√©se</button>
        </div>
      </form>

      <div class="progress" aria-hidden="true">
        <div id="progressBar"></div>
      </div>
    </section>

    <section id="resultSection" class="card hidden fade-in" aria-live="polite">
      <h2 data-i18n="result.title">Eredm√©ny</h2>
      <p><strong>TAJ:</strong> <span id="shownId">‚Äì</span></p>
      <p><strong data-i18n="result.score">√ñsszpontsz√°m:</strong> <span id="score">‚Äì</span> / 24 &nbsp;‚Ä¢&nbsp;
         <strong data-i18n="result.cat">Kateg√≥ria:</strong> <span id="category">‚Äì</span> &nbsp;‚Ä¢&nbsp;
         <strong data-i18n="result.missed">Kihagy√°sok (14 nap):</strong> <span id="missedOut">0</span>
      </p>

      <div id="gamify" class="badge-zone"></div>

      <div class="results-grid">
        <div class="chart-wrap">
          <canvas id="radarChart"></canvas>
        </div>
        <div id="advice" class="advice"></div>
      </div>

      <div class="actions">
        <button id="printBtn" class="btn" data-i18n="result.print">Nyomtat√°s / PDF</button>
        <button id="exportAllBtn" class="btn btn--ghost" data-i18n="result.export">√ñsszes eredm√©ny export (CSV)</button>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <small>¬© <span id="year"></span> AdherenciaCheck ‚Ä¢ K√©sz√≠tette: Szab√≥ M√°rk</small>
  </footer>

  <script>window.SHEET_ID='1YUQJJodASSjYdeMnwNYNtukQDxTElfIWmxLXJZBmS54';</script>
  <script src="app.js"></script>
</body>
</html>

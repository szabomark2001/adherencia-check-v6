<!doctype html>
<html lang="hu" data-lang="hu">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AdherenciaCheck</title>
  <meta name="description" content="Gy√≥gyszeres adherencia felm√©r√©se modern, letisztult fel√ºleten.">
  <link rel="icon" href="assets/favicon.png" />
  <link rel="stylesheet" href="styles.css?v=6.2.0">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
  <!-- Beleegyez√©s (egyszeri) -->
  <div id="consentOverlay" class="overlay" aria-modal="true" role="dialog" aria-labelledby="consentTitle">
    <div class="overlay__card card-ani">
      <h1 id="consentTitle" data-i18n="consent.title">Beleegyez√©s</h1>
      <p data-i18n="consent.text">Az oldal az √ñn gy√≥gyszeres adherenci√°j√°t m√©ri <strong>t√°j√©koztat√≥ jelleggel</strong>. A kit√∂lt√©s √∂nk√©ntes, √©s nem helyettes√≠ti az orvosi vizsg√°latot. Panasz eset√©n forduljon kezel≈ëorvos√°hoz.</p>
      <label class="consent-check">
        <input type="checkbox" id="consentCheck" aria-describedby="consentTitle"> <span data-i18n="consent.accept">Elolvastam √©s elfogadom a felt√©teleket.</span>
      </label>
      <button id="consentBtn" class="btn" disabled aria-disabled="true" data-i18n="consent.btn">Elfogadom</button>
    </div>
  </div>

  <header class="site-header">
    <div class="brand">
      <span class="brand__logo">AC</span>
      <span class="brand__name">Adherencia<span>Check</span></span>
    </div>
    <div class="header-actions">
      <button id="themeToggle" aria-label="T√©ma v√°lt√°sa" class="theme-toggle">üåì</button>
    </div>
  </header>

  <main class="container">
    <section class="intro card fade-in">
      <h1 data-i18n="intro.title">Gy√≥gyszeres adherencia felm√©r√©se</h1>
      <p class="muted" data-i18n="intro.desc">K√©rem, adja meg TAJ-sz√°m√°t, majd t√∂ltse ki a k√©rd≈ë√≠vet. Az eredm√©nyek csak a befejez√©skor ker√ºlnek ment√©sre az eszk√∂z√©n, √©s k√©s≈ëbb Excelben export√°lhat√≥k.</p>
    </section>

    <section id="formSection" class="card fade-in-up">
      <h2 data-i18n="form.title">K√©rd≈ë√≠v</h2>
      <form id="surveyForm" novalidate>
        <div class="q">
          <label for="taj" data-i18n="form.taj.label">K√©rem, adja meg a TAJ sz√°m√°t (9 sz√°mjegy):</label>
          <div class="with-icon">
            <span class="icon">ü™™</span>
            <input id="taj" name="taj" inputmode="numeric" pattern="\d{9}" maxlength="9" placeholder="_________" required class="id-input" />
          </div>
          <p class="muted" data-i18n="form.taj.note">Ne adjon meg m√°s szem√©lyes adatot (n√©v, e‚Äëmail).</p>
        </div>

        <!-- 8 k√©rd√©s -->
        <div class="q reveal"><label data-i18n="q1.l">1) Az elm√∫lt 2 h√©tben h√°nyszor felejtette el bevenni a gy√≥gyszer√©t?</label>
          <div class="opts">
            <label><input type="radio" name="q1" value="3" required> Soha</label>
            <label><input type="radio" name="q1" value="2"> 1‚Äì2 alkalom</label>
            <label><input type="radio" name="q1" value="1"> 3‚Äì4 alkalom</label>
            <label><input type="radio" name="q1" value="0"> ‚â•5 alkalom</label>
          </div>
          <div class="followup hidden" data-follow="q1">
            <label>Mi okozza legink√°bb az elfelejt√©st?</label>
            <select id="f1"><option value="">V√°lasszon‚Ä¶</option><option value="napirend">V√°ltoz√≥ napirend</option><option value="emlekezteto">Nincs eml√©keztet≈ë</option><option value="egyeb">Egy√©b</option></select>
          </div>
        </div>

        <div class="q reveal"><label>2) Milyen gyakran cs√∫szik a bev√©tel ‚â•2 √≥r√°t?</label>
          <div class="opts">
            <label><input type="radio" name="q2" value="3" required> Soha/ritk√°n</label>
            <label><input type="radio" name="q2" value="2"> Havonta n√©h√°nyszor</label>
            <label><input type="radio" name="q2" value="1"> Hetente</label>
            <label><input type="radio" name="q2" value="0"> T√∂bbsz√∂r hetente</label>
          </div>
        </div>

        <div class="q reveal"><label>3) El≈ëfordul, hogy sz√°nd√©kosan kihagyja?</label>
          <div class="opts">
            <label><input type="radio" name="q3" value="3" required> Nem</label>
            <label><input type="radio" name="q3" value="2"> Ritk√°n</label>
            <label><input type="radio" name="q3" value="1"> N√©ha</label>
            <label><input type="radio" name="q3" value="0"> Gyakran</label>
          </div>
          <div class="followup hidden" data-follow="q3">
            <label>Mi√©rt hagyja ki leggyakrabban?</label>
            <select id="f3"><option value="">V√°lasszon‚Ä¶</option><option value="mellekhatas">Mell√©khat√°s</option><option value="ketely">K√©tely</option><option value="koltseg">K√∂lts√©g</option><option value="egyeb">Egy√©b</option></select>
          </div>
        </div>

        <div class="q reveal"><label>4) Mennyire vil√°gos az adagol√°s, √©s mi a teend≈ë kihagy√°s eset√©n?</label>
          <div class="opts">
            <label><input type="radio" name="q4" value="3" required> Teljesen vil√°gos</label>
            <label><input type="radio" name="q4" value="2"> T√∂bbnyire vil√°gos</label>
            <label><input type="radio" name="q4" value="1"> R√©szben zavaros</label>
            <label><input type="radio" name="q4" value="0"> Nem vil√°gos</label>
          </div>
        </div>

        <div class="q reveal"><label>5) Van seg√≠ts√©ge eml√©keztet≈ëkkel?</label>
          <div class="opts">
            <label><input type="radio" name="q5" value="3" required> Igen, rendszeresen</label>
            <label><input type="radio" name="q5" value="2"> Igen, n√©ha</label>
            <label><input type="radio" name="q5" value="1"> Ritk√°n</label>
            <label><input type="radio" name="q5" value="0"> Nincs</label>
          </div>
        </div>

        <div class="q reveal"><label>6) Meg tudja v√°s√°rolni a gy√≥gyszereket?</label>
          <div class="opts">
            <label><input type="radio" name="q6" value="3" required> Igen</label>
            <label><input type="radio" name="q6" value="2"> N√©ha neh√©z</label>
            <label><input type="radio" name="q6" value="1"> Gyakran neh√©z</label>
            <label><input type="radio" name="q6" value="0"> Nem</label>
          </div>
        </div>

        <div class="q reveal"><label>7) Zavar√≥ mell√©khat√°sai vannak?</label>
          <div class="opts">
            <label><input type="radio" name="q7" value="3" required> Nincsenek</label>
            <label><input type="radio" name="q7" value="2"> Enyhe</label>
            <label><input type="radio" name="q7" value="1"> K√∂zepes</label>
            <label><input type="radio" name="q7" value="0"> S√∫lyos</label>
          </div>
        </div>

        <div class="q reveal"><label>8) Mennyire tartja fontosnak a rendszeres szed√©st?</label>
          <div class="opts">
            <label><input type="radio" name="q8" value="3" required> Nagyon fontos</label>
            <label><input type="radio" name="q8" value="2"> Fontos</label>
            <label><input type="radio" name="q8" value="1"> Kev√©sb√© fontos</label>
            <label><input type="radio" name="q8" value="0"> Nem fontos</label>
          </div>
        </div>

        <!-- Cs√∫szka (0‚Äì14) -->
        <div class="q reveal">
          <label for="missed">Az elm√∫lt 2 h√©tben h√°nyszor fordult el≈ë, hogy nem vette be a gy√≥gyszer√©t?</label>
          <div class="range-wrap">
            <input type="range" id="missed" name="missed" min="0" max="14" value="0" />
            <output id="missedVal">0</output>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn">Eredm√©ny kisz√°m√≠t√°sa</button>
          <button type="button" id="resetBtn" class="btn btn--ghost">≈∞rlap t√∂rl√©se</button>
        </div>
      </form>

      <div class="progress" aria-hidden="true">
        <div id="progressBar"></div>
      </div>
    </section>

    <section id="resultSection" class="card hidden fade-in" aria-live="polite">
      <h2>Eredm√©ny</h2>
      <p><strong>TAJ:</strong> <span id="shownId">‚Äì</span></p>
      <p><strong>√ñsszpontsz√°m:</strong> <span id="score">‚Äì</span> / 24 &nbsp;‚Ä¢&nbsp;
         <strong>Kateg√≥ria:</strong> <span id="category">‚Äì</span> &nbsp;‚Ä¢&nbsp;
         <strong>Kihagy√°sok (14 nap):</strong> <span id="missedOut">0</span>
      </p>

      <div id="gamify" class="badge-zone"></div>

      <div class="results-grid">
        <div class="chart-wrap"><canvas id="radarChart"></canvas></div>
        <div id="advice" class="advice"></div>
      </div>

      <div class="actions">
        <button id="printBtn" class="btn">Nyomtat√°s / PDF</button>
        <button id="exportAllBtn" class="btn btn--ghost">√ñsszes eredm√©ny export (CSV)</button>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <small>¬© <span id="year"></span> AdherenciaCheck ‚Ä¢ K√©sz√≠tette: Szab√≥ M√°rk ‚Ä¢ v6.2.0</small>
  </footer>

  <script>window.SHEET_ID="1YUQJJodASSjYdeMnwNYNtukQDxTElfIWmxLXJZBmS54";</script>
  <script src="app.js?v=6.2.0" defer></script>
</body>
</html>
